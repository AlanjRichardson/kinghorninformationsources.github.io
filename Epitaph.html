<!DOCTYPE html>
<html lang="en">
<head>
  
  <!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-20KZGF4994"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-20KZGF4994');
</script>
  
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Kinghorn Epitaph</title>
  <link rel="stylesheet" href="kinghorn.css" />
</head>

<body>

<header>
  <h1>Kinghorn Information Sources</h1>
  <button class="navbar-toggler" aria-label="Toggle menu">☰</button>
  <nav>
    <ul class="navbar-nav">
      <li><a href="index.html">Home</a></li>
      <li><a href="kinghorn_history.html">Historical</a></li>
      <li><a href="industryhistory.html">Industrial</a></li>
      <li><a href="naturalhistory.html">Natural</a></li>
      <li><a href="maps.html">Old-Maps</a></li>
      <li><a href="documents.html">Documents</a></li>
      <li><a href="Software.html">Software</a></li>
      <li><a href="Culture.html">People</a></li>
	  <li><a href="names-search.html">Name Search</a></li>
    </ul>
  </nav>
</header>

<main>
  <article class="remembrance-entry" id="epitaph-entry">
    <header class="remembrance-header">
      <h2 id="epitaph-name"></h2>
      <p class="remembrance-subtitle" id="epitaph-subtitle"></p>
    </header>

    <div class="remembrance-body" id="epitaph-body">
      <!-- photo + epitaph will be injected here by JS -->
    </div>

    <section class="remembrance-tribute" id="epitaph-tribute">
      <!-- full tribute text will be injected here -->
    </section>

    <p><small><a href="WarMemorial.html">Back to War Memorial</a></small></p>
  </article>
</main>

<footer>

Editor: Alan Richardson    <a href="ContactForm.html">Contact me by email</a>

</footer>

<script src="epitaphs-data.js"></script>
<script>
// simple helper to get ?id=john-braid from the URL
function getEpitaphId() {
  const params = new URLSearchParams(window.location.search);
  return params.get("id");
}

document.addEventListener("DOMContentLoaded", function () {
  const id = getEpitaphId();
  const data = EPITAPHS[id];

  if (!data) {
    document.getElementById("epitaph-entry").innerHTML =
      "<p>Sorry, no epitaph information is available for this name yet.</p>" +
      '<p><a href="WarMemorial.html">Back to War Memorial</a></p>';
    return;
  }

  // Basic fields
  document.getElementById("epitaph-name").textContent = data.fullName;
  document.getElementById("epitaph-subtitle").textContent = data.subtitle;

  // Build the body (photo + short quote)
  const bodyDiv = document.getElementById("epitaph-body");
  let bodyHtml = "";

  if (data.image) {
    bodyHtml += `
      <figure class="remembrance-photo">
        <img src="${data.image}" alt="${data.fullName}">
        <figcaption>${data.imageCaption || ""}</figcaption>
      </figure>
    `;
  }

  bodyHtml += `
    <section class="remembrance-epitaph">
      <h3>In remembrance</h3>
      ${data.shortQuote ? `<p><strong>“${data.shortQuote}”</strong></p>` : ""}
      ${data.quoteSource ? `<p>— <em>${data.quoteSource}</em></p>` : ""}
    </section>
  `;

  bodyDiv.innerHTML = bodyHtml;

  // Build the tribute paragraphs
  const tributeSection = document.getElementById("epitaph-tribute");
  let tributeHtml = "";

  if (data.tributeBy) {
    tributeHtml += `<h3>${data.tributeBy}</h3>`;
  }

  if (Array.isArray(data.paragraphs)) {
    data.paragraphs.forEach(p => {
      tributeHtml += `<p>${p}</p>`;
    });
  }

  tributeSection.innerHTML = tributeHtml;
});
</script>

<script src="js/people-data.js"></script>




</body>

</html>
